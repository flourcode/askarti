<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AskArti.com – AI Sales Coach for Federal Sellers</title>
<meta name="description" content="Get instant AI coaching for your toughest sales challenges. AskArti helps federal sellers and small businesses win more deals with smart AI prompts and proven strategies." />
<style>
  :root{
    --bg: #FAFBFC;
    --panel: #FFFFFF;
    --text: #0D0D12;
    --text-secondary: #525866;
    --text-muted: #6B7684;
    --border: #E4E7EC;
    --border-light: #F2F4F7;
    --accent: #0D0D12;
    --accent-light: #667085;
    --accent-bg: rgba(13, 13, 18, 0.04);
    --success: #027A48;
    --radius: 16px;
    --radius-sm: 8px;
    --radius-lg: 24px;
    --shadow-xs: 0px 1px 2px rgba(16, 24, 40, 0.05);
    --shadow-sm: 0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06);
    --shadow-md: 0px 4px 8px -2px rgba(16, 24, 40, 0.1), 0px 2px 4px -2px rgba(16, 24, 40, 0.06);
    --shadow-lg: 0px 12px 16px -4px rgba(16, 24, 40, 0.08), 0px 4px 6px -2px rgba(16, 24, 40, 0.03);
    --max-width: 1216px;
    --section-padding: 96px;
  }
  
  * { box-sizing: border-box; margin: 0; padding: 0; }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    letter-spacing: -0.011em;
  }
  
  .container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 32px;
  }
  
  /* Header */
  header {
    background: rgba(250, 251, 252, 0.8);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
    position: sticky;
    top: 0;
    z-index: 100;
  }
  
  .header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px 0;
  }
  
  .logo {
    font-weight: 700;
    font-size: 32px;
    color: var(--text);
    text-decoration: none;
    letter-spacing: -0.02em;
  }
  
  .nav-items {
    display: flex;
    align-items: center;
    gap: 40px;
  }
  
  .nav-link {
    color: var(--text-secondary);
    text-decoration: none;
    font-weight: 500;
    font-size: 16px;
    transition: color 0.2s ease;
  }
  
  .nav-link:hover {
    color: var(--text);
  }
  
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 20px;
    border-radius: var(--radius-sm);
    font-weight: 600;
    font-size: 16px;
    text-decoration: none;
    transition: all 0.2s ease;
    cursor: pointer;
    border: none;
    font-family: inherit;
    letter-spacing: -0.011em;
  }
  
  .btn-primary {
    background: var(--accent);
    color: white;
    box-shadow: var(--shadow-xs);
  }
  
  .btn-primary:hover {
    background: #1a1a1a;
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
  }
  
  .btn-secondary {
    background: var(--panel);
    color: var(--text);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-xs);
  }
  
  .btn-secondary:hover {
    background: var(--accent-bg);
    border-color: var(--accent-light);
  }
  
  /* Demo Section */
  .demo-section {
    padding: var(--section-padding) 0;
    background: var(--panel);
  }
  
  .demo-header {
    text-align: center;
    margin-bottom: 64px;
  }
  
  .demo-header h2 {
    font-size: 48px;
    font-weight: 700;
    letter-spacing: -0.02em;
    margin-bottom: 20px;
  }
  
  .demo-header p {
    font-size: 20px;
    color: var(--text-secondary);
    max-width: 640px;
    margin: 0 auto;
  }
  
  .chat-container {
    max-width: 800px;
    margin: 0 auto;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    overflow: hidden;
  }
  
  .chat-input-area {
    padding: 20px 24px;
    background: var(--panel);
  }
  
  .chat-input-container {
    display: flex;
    gap: 12px;
    align-items: flex-end;
  }
  
  .chat-input {
    flex: 1;
    padding: 16px 20px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    background: var(--bg);
    font-size: 15px;
    resize: none;
    min-height: 48px;
    max-height: 120px;
    font-family: inherit;
    outline: none;
    transition: border-color 0.2s ease;
  }
  
  .chat-input:focus {
    border-color: var(--accent);
  }
  
  .chat-input::placeholder {
    color: var(--text-muted);
  }
  
  .chat-send-btn {
    padding: 16px 24px;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    font-weight: 600;
    font-size: 15px;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
  }
  
  .chat-send-btn:hover {
    background: #1a1a1a;
    transform: translateY(-1px);
  }
  
  .chat-send-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
  
  /* Results Section */
  .results-section {
    margin-top: 40px;
    padding: 32px;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    display: none;
  }
  
  .results-section.show {
    display: block;
    animation: slideUp 0.4s ease-out;
  }
  
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border);
  }
  
  .result-title {
    font-weight: 600;
    font-size: 18px;
    color: var(--text);
  }
  
  .result-actions {
    display: flex;
    gap: 12px;
  }
  
  .prompt-display {
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 24px;
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
    font-size: 14px;
    line-height: 1.6;
    white-space: pre-wrap;
    max-height: 400px;
    overflow-y: auto;
    margin-bottom: 20px;
  }
  
  .result-note {
    font-size: 14px;
    color: var(--text-muted);
    line-height: 1.5;
  }
  
  .loader {
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top: 2px solid white;
    border-radius: 50%;
    width: 1.25rem;
    height: 1.25rem;
    animation: spin 1s linear infinite;
    margin-left: 8px;
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  .hidden {
    display: none;
  }
  
  /* Footer */
  footer {
    padding: 40px 0;
    background: var(--bg);
    border-top: 1px solid var(--border);
    text-align: center;
  }
  
  .footer-text {
    font-size: 14px;
    color: var(--text-muted);
  }
  
  /* Responsive Design */
  @media (max-width: 768px) {
    :root {
      --section-padding: 64px;
    }
    
    .container {
      padding: 0 20px;
    }
    
    .nav-items {
      display: none;
    }
    
    .demo-header h2 {
      font-size: 36px;
    }
    
    .chat-input-container {
      flex-direction: column;
      align-items: stretch;
    }
    
    .chat-send-btn {
      margin-top: 12px;
    }
  }
</style>
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <a href="#" class="logo">AskArti</a>
        <div class="nav-items">
          <a href="#features" class="nav-link">Features</a>
          <a href="#pricing" class="nav-link">Pricing</a>
          <a href="#testimonials" class="nav-link">Testimonials</a>
          <a href="https://calendly.com/markflournoy/intro" target="_blank" class="btn btn-primary">Book a Free Call</a>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- Demo Section -->
    <section id="demo" class="demo-section">
      <div class="container">
        <div class="demo-header">
          <h2>AI Prompt Coach for Federal Sales</h2>
          <p>Enter your sales challenge and we'll teach you how to write better prompts while solving your problem.</p>
        </div>
        
        <div class="chat-container">
          <div class="chat-input-area">
            <div class="chat-input-container">
              <textarea class="chat-input" id="problemInput" placeholder="e.g., need to meet with VA CTO about cloud migration" rows="3"></textarea>
              <button class="chat-send-btn" id="generateBtn">
                <span id="btnText">Improve My Prompt</span>
                <div id="btnLoader" class="loader hidden"></div>
              </button>
            </div>
          </div>
        </div>
        
        <!-- Results -->
        <div class="results-section" id="resultsSection">
          <!-- Results will be inserted here -->
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-text">© 2025 AskArti.com • AI-powered sales coaching for professionals who want to win more</div>
    </div>
  </footer>

<script>
// Configuration - using same API endpoint from old system
const API_CONFIG = {
  ENDPOINT: 'https://vd823jgh0a.execute-api.us-east-1.amazonaws.com/prod/AskArtiAPI'
};

// Problem type templates for different sales challenges
const COACHING_TEMPLATES = {
  prospecting: {
    template: `Act as a senior federal seller coach. Build a specific outreach plan for "{problem}". 

Return a table with columns: Hook, Why it matters to {target}, Next step.
- Use plain language and one idea per row
- Focus on proof, deadlines, funding, compliance, and incumbent pain
- Include 3-5 tactical approaches
- Keep current for 2025

Close with a one paragraph follow-up script I can send today that feels natural and builds relationship.`
  },
  nurturing: {
    template: `Act as a senior relationship-building coach for federal sales. Help solve: "{problem}"

Create a nurturing strategy with:
1. Three touchpoint ideas that add value
2. Key questions to understand their priorities  
3. Proof points that build credibility
4. Timing recommendations for each interaction

End with a template message I can customize and send this week that moves the relationship forward without being pushy.`
  },
  closing: {
    template: `Act as a senior closing coach for government sales. Address this challenge: "{problem}"

Build a closing framework with:
1. Key objections to anticipate and responses
2. Three trial close techniques for this situation
3. Required proof/validation they'll need
4. Timeline and next steps to get to signature

Include a script template for the critical conversation that gets commitment while addressing their concerns.`
  },
  objections: {
    template: `Act as an objection handling expert for federal sales. Help overcome: "{problem}"

Structure your response as:
1. Root cause analysis - why this objection comes up
2. Three different response techniques with examples
3. Questions to uncover the real concern behind the objection
4. Proof points or evidence that addresses their fear

Provide word-for-word responses I can practice and use in real conversations.`
  },
  general: {
    template: `Act as a federal sales expert with 30+ years of experience. Help solve this challenge: "{problem}"

Provide a structured response with:
1. Quick assessment of the situation
2. Three specific actions to take (prioritized)
3. Key talking points or questions to use
4. Template language if applicable
5. Next steps and timeline

Focus on practical, actionable advice that can be implemented immediately.`
  }
};

// Global state
let isGenerating = false;

// Detect problem type from user input
function detectProblemType(problemText) {
  const text = problemText.toLowerCase();
  
  if (text.includes('prospect') || text.includes('outreach') || text.includes('cold') || text.includes('meet with')) {
    return 'prospecting';
  } else if (text.includes('nurtur') || text.includes('relationship') || text.includes('follow up') || text.includes('stay in touch')) {
    return 'nurturing';
  } else if (text.includes('clos') || text.includes('signature') || text.includes('contract') || text.includes('objection')) {
    return 'closing';
  } else if (text.includes('objection') || text.includes('concern') || text.includes('pushback') || text.includes('hesitat')) {
    return 'objections';
  } else {
    return 'general';
  }
}

// Generate prompt using the old backend
async function generatePrompt() {
  const problemText = document.getElementById('problemInput').value.trim();
  
  if (!problemText) {
    alert('Please describe your sales challenge first.');
    return;
  }

  if (isGenerating) return;
  
  setButtonLoading(true);
  
  try {
    // Use the exact same API call structure as the old system
    const response = await fetch(API_CONFIG.ENDPOINT, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        situation: problemText
        // Removed forceType to let the new Lambda handle it automatically
      })
    });

    if (!response.ok) {
      throw new Error(`Server error: ${response.status}`);
    }

    const data = await response.json();
    
    if (data.error) {
      throw new Error(data.message || data.error);
    }

    // Convert the AI response to a coaching prompt
    const prompt = convertToCoachingPrompt(data, problemText);
    showResult(prompt, problemText);

  } catch (error) {
    console.error('Generation failed:', error);
    alert('Failed to generate prompt. Please try again.');
  } finally {
    setButtonLoading(false);
  }
}

// Convert AI response to coaching format
function convertToCoachingPrompt(aiResponse, originalProblem) {
  // Handle the new prompt coaching format
  if (aiResponse.response_type === 'prompt_coaching') {
    
    // Build the improvements section
    const improvements = aiResponse.prompt_improvements.map(imp => 
      `**${imp.improvement}:** ${imp.why}`
    ).join('\n\n');
    
    // Build the executed result table
    let resultTable = '';
    if (aiResponse.executed_result && aiResponse.executed_result.outreach_table) {
      const tableRows = aiResponse.executed_result.outreach_table.map(row => 
        `| ${row.hook} | ${row.why_it_matters} | ${row.next_step} |`
      ).join('\n');
      
      resultTable = `
### **Executed Result - Outreach Plan**
| Hook | Why it matters to [Target] | Next Step |
| :--- | :--- | :--- |
${tableRows}

**Follow-up Script:**
${aiResponse.executed_result.follow_up_script}

${aiResponse.executed_result.intelligence_brief ? `**Intelligence Brief:**
${aiResponse.executed_result.intelligence_brief.map(item => `• ${item}`).join('\n')}` : ''}`;
    }

    return `## 🎯 Prompt Coaching Session

**Your Original Request:** "${originalProblem}"

**Analysis:** ${aiResponse.original_analysis}

---

## ✨ Your Improved Prompt
\`\`\`
${aiResponse.improved_prompt}
\`\`\`

---

## 🧠 What Made This Better
${improvements}

---

## 💡 Coaching Tips for Next Time
${aiResponse.coaching_tips.map(tip => `• ${tip}`).join('\n')}

---

## 📊 See the Difference - Executed Result
${aiResponse.executed_result.strategic_context}
${resultTable}

---

**🚀 Next Steps:**
1. **Copy the improved prompt above** and try it in Claude, ChatGPT, or your preferred AI tool
2. **Adapt the prompt structure** for your future sales challenges
3. **Practice the coaching tips** to become a better prompt engineer

*This is what happens when you give AI proper context, structure, and specific instructions!*`;
  }
  
  // Fallback for other formats (shouldn't happen with new system)
  return `Your coaching prompt for: "${originalProblem}"

${JSON.stringify(aiResponse, null, 2)}`;
}

// Extract target from problem text
function extractTarget(problemText) {
  const targets = ['CTO', 'CISO', 'PMO', 'VA', 'DOD', 'Navy', 'Army', 'Air Force', 'DHS', 'GSA', 'CEO', 'CFO'];
  const foundTarget = targets.find(target => 
    problemText.toLowerCase().includes(target.toLowerCase())
  );
  return foundTarget;
}

// Show results
function showResult(prompt, problemText) {
  const resultsSection = document.getElementById('resultsSection');
  
  resultsSection.innerHTML = `
    <div class="result-header">
      <h3 class="result-title">Your Prompt Coaching Session</h3>
      <div class="result-actions">
        <button class="btn btn-secondary" onclick="copyPrompt()">Copy Prompt</button>
        <button class="btn btn-secondary" onclick="downloadPrompt()">Download</button>
      </div>
    </div>
    <div class="prompt-display" id="promptDisplay">${prompt}</div>
    <div class="result-note">
      <strong>How this works:</strong> We analyzed your request, created a much better prompt, explained why it's superior, then executed it to show you the quality difference. Copy the improved prompt above to use with any AI tool.
    </div>
  `;
  
  // Store for copying/downloading
  window.currentPrompt = prompt;
  window.currentProblem = problemText;
  
  resultsSection.classList.add('show');
  resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// Set button loading state
function setButtonLoading(loading) {
  isGenerating = loading;
  const btn = document.getElementById('generateBtn');
  const btnText = document.getElementById('btnText');
  const btnLoader = document.getElementById('btnLoader');
  
  btn.disabled = loading;
  
  if (loading) {
    btnText.classList.add('hidden');
    btnLoader.classList.remove('hidden');
  } else {
    btnText.classList.remove('hidden');
    btnLoader.classList.add('hidden');
  }
}

// Copy prompt to clipboard
function copyPrompt() {
  const promptText = window.currentPrompt;
  
  if (navigator.clipboard && window.isSecureContext) {
    navigator.clipboard.writeText(promptText).then(() => {
      showCopySuccess();
    }).catch(() => {
      fallbackCopy(promptText);
    });
  } else {
    fallbackCopy(promptText);
  }
}

// Fallback copy method
function fallbackCopy(text) {
  const textArea = document.createElement('textarea');
  textArea.value = text;
  textArea.style.position = 'fixed';
  textArea.style.left = '-999999px';
  textArea.style.top = '-999999px';
  document.body.appendChild(textArea);
  textArea.focus();
  textArea.select();

  try {
    const successful = document.execCommand('copy');
    if (successful) {
      showCopySuccess();
    } else {
      alert('Could not copy. Please select and copy manually.');
    }
  } catch (err) {
    alert('Could not copy. Please select and copy manually.');
  } finally {
    document.body.removeChild(textArea);
  }
}

// Show copy success feedback
function showCopySuccess() {
  const button = document.querySelector('[onclick="copyPrompt()"]');
  if (button) {
    const originalText = button.textContent;
    button.textContent = 'Copied!';
    button.style.background = 'var(--success)';
    button.style.color = 'white';
    button.style.borderColor = 'var(--success)';
    
    setTimeout(() => {
      button.textContent = originalText;
      button.style.background = '';
      button.style.color = '';
      button.style.borderColor = '';
    }, 2000);
  }
}

// Download prompt as file
function downloadPrompt() {
  const content = `# Sales Coaching Prompt

**Problem:** ${window.currentProblem}

**Prompt:**
${window.currentPrompt}

---
*Generated by AskArti.com AI Sales Coach*
*Book a strategy call: https://calendly.com/markflournoy/intro`;

  const blob = new Blob([content], { type: 'text/markdown' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'sales-coaching-prompt.md';
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

// Setup event listeners
function setupEventListeners() {
  const generateBtn = document.getElementById('generateBtn');
  const problemInput = document.getElementById('problemInput');
  
  generateBtn.addEventListener('click', generatePrompt);
  
  problemInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      generatePrompt();
    }
  });
  
  // Auto-resize textarea
  problemInput.addEventListener('input', () => {
    problemInput.style.height = 'auto';
    problemInput.style.height = Math.min(problemInput.scrollHeight, 120) + 'px';
  });
}

// Make functions global for onclick handlers
Object.assign(window, { 
  generatePrompt,
  copyPrompt,
  downloadPrompt
});

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
  setupEventListeners();
});
</script>
</body>
</html>