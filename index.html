<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>AskArti - Federal Sales Prospecting Intelligence</title>
   
   <meta name="description" content="Get real federal sales prospecting intelligence. Find agencies, systems integrators, partners, and opportunities with insider-level market research.">
   <meta name="keywords" content="federal sales prospecting, government sales intelligence, systems integrators, federal contractors, govcon prospecting">
   <meta name="author" content="Mark">
   <meta name="robots" content="index, follow">
   <link rel="canonical" href="https://askarti.com">
   
   <meta property="og:type" content="website">
   <meta property="og:url" content="https://askarti.com/">
   <meta property="og:title" content="AskArti - Federal Sales Prospecting Intelligence">
   <meta property="og:description" content="Get real federal sales prospecting intelligence from someone who knows the market.">
   <meta property="og:image" content="https://askarti.com/images/asklite.png">
   
   <link rel="icon" href="/images/favicon.ico" sizes="any">
   <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
   <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
   <meta name="theme-color" content="#756bb1">
   
   <script src="https://cdn.tailwindcss.com"></script>
   <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
   
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-WLGEPY5H4G"></script>
   <script>
       window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
       gtag('config', 'G-WLGEPY5H4G');
   </script>

<style>
    :root {
        --color-purple-lightest: #f2f0f7;
        --color-purple-light: #dadaeb;
        --color-purple-mid-light: #bcbddc;
        --color-purple-mid: #9e9ac8;
        --color-purple-dark: #756bb1;
        --color-black: #252525;
        --color-white: #ffffff;
        --color-primary: var(--color-purple-dark);
        --color-primary-hover: var(--color-purple-mid);
        --color-background: var(--color-purple-lightest); 
        --color-surface: var(--color-white); 
        --color-surface-muted: var(--color-purple-light);
        --color-text-primary: var(--color-black);
        --color-text-secondary: #525252;
        --color-text-muted: #737373;
        --color-border: var(--color-purple-light);
        --color-border-light: #E9E7F2;
        --color-success: #059669;
        --color-warning: #d97706;
    }

    body { 
        font-family: 'Inter', sans-serif; 
        color: var(--color-text-primary);
        background-color: var(--color-background);
    }
    
    .loader { 
        border: 2px solid rgba(255, 255, 255, 0.3); 
        border-top: 2px solid var(--color-white); 
        border-radius: 50%; 
        width: 20px; 
        height: 20px; 
        animation: spin 1s linear infinite; 
    }
    
    @keyframes spin { 
        0% { transform: rotate(0deg); } 
        100% { transform: rotate(360deg); } 
    }
    
    .fade-in { 
        animation: fadeIn 0.5s ease-in-out; 
    }
    
    @keyframes fadeIn { 
        from { opacity: 0; transform: translateY(10px); } 
        to { opacity: 1; transform: translateY(0); } 
    }
    
    .prospect-card { 
        background-color: var(--color-surface); 
        border-radius: 1rem; 
        border: 1px solid var(--color-border); 
        padding: 1.5rem; 
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); 
    }
    
    #prospect-btn {
        background-color: var(--color-primary);
        color: var(--color-white);
        font-weight: 600;
        padding: 0.75rem 2rem;
        border-radius: 9999px;
        transition: all 0.2s ease-in-out;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.1);
    }

    #prospect-btn:hover {
        background-color: var(--color-primary-hover);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
    }
    
    .quick-prompt {
        border: 1px solid var(--color-border);
        background-color: #fafafa;
        border-radius: 9999px;
        padding: 0.375rem 0.75rem;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--color-text-secondary);
        transition: all 0.2s ease;
    }

    .quick-prompt:hover { 
        background-color: var(--color-primary); 
        color: var(--color-white);
        border-color: var(--color-primary);
        transform: translateY(-2px); 
    }
    
    input[type="text"], textarea { 
        font-size: 16px !important; 
        border: 1px solid var(--color-border);
        border-radius: 0.5rem;
    }
    textarea:focus {
        --tw-ring-color: var(--color-primary);
        border-color: var(--color-primary);
    }

    .char-counter {
        text-align: right;
        font-size: 0.75rem;
        color: var(--color-text-muted);
        margin-top: 0.25rem;
    }
    .char-counter.warning {
        color: var(--color-warning);
    }

    /* Enhanced Magazine Report Styles */
    .magazine-report {
        max-width: 1200px;
        margin: 0 auto;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.6;
        color: var(--color-text-primary);
    }

    .report-header {
        background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-background) 100%);
        border: 1px solid var(--color-border);
        margin-bottom: 2.5rem;
        padding: 2rem 2.5rem;
        border-radius: 1rem;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .header-content {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 2rem;
        flex-wrap: wrap;
        gap: 1.5rem;
    }

    .title-section h1 {
        font-size: 2.75rem;
        font-weight: 800;
        color: var(--color-text-primary);
        margin: 0 0 0.5rem 0;
        letter-spacing: -0.04em;
        line-height: 1.1;
        background: linear-gradient(135deg, var(--color-primary), var(--color-purple-mid));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .subtitle {
        font-size: 1.25rem;
        color: var(--color-text-secondary);
        margin: 0;
        font-weight: 500;
    }

    .meta-section {
        text-align: right;
        flex-shrink: 0;
    }

    .report-date {
        font-size: 0.875rem;
        color: var(--color-text-secondary);
        margin-bottom: 0.5rem;
        font-weight: 600;
    }

    .confidential-badge {
        background: var(--color-black);
        color: var(--color-white);
        padding: 0.5rem 1rem;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        border-radius: 0.25rem;
    }

    .executive-summary {
        background: linear-gradient(135deg, var(--color-background), rgba(255,255,255,0.8));
        padding: 2rem;
        border: 1px solid var(--color-border);
        border-radius: 0.75rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    }

    .executive-summary h2 {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--color-text-primary);
        margin: 0 0 1rem 0;
        border-bottom: 2px solid var(--color-primary);
        padding-bottom: 0.75rem;
        display: inline-block;
    }

    .summary-content {
        color: var(--color-text-secondary);
        line-height: 1.7;
        font-size: 1.05rem;
    }
    
    .summary-content p { margin-bottom: 1rem; }
    .summary-content p:last-child { margin-bottom: 0; }

    .content-section {
        background: var(--color-surface);
        border: 1px solid var(--color-border);
        padding: 2.5rem;
        margin-bottom: 2.5rem;
        border-radius: 1rem;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .content-section:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
    }

    .content-section h2 {
        font-size: 2.25rem;
        font-weight: 800;
        color: var(--color-text-primary);
        margin: 0 0 2rem 0;
        letter-spacing: -0.03em;
        position: relative;
    }

    .content-section h2::before {
        content: '';
        position: absolute;
        left: -1rem;
        top: 50%;
        transform: translateY(-50%);
        width: 4px;
        height: 2rem;
        background: linear-gradient(135deg, var(--color-primary), var(--color-purple-mid));
        border-radius: 2px;
    }

    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
        flex-wrap: wrap;
        gap: 1rem;
        border-bottom: 1px solid var(--color-border);
        padding-bottom: 1rem;
    }
    
    .section-count {
        background: linear-gradient(135deg, var(--color-primary), var(--color-purple-mid));
        color: var(--color-white);
        padding: 0.5rem 1rem;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        border-radius: 9999px;
        box-shadow: 0 2px 10px rgba(117, 107, 177, 0.3);
    }

    /* Enhanced Agency Cards */
    .agencies-list {
        display: flex;
        flex-direction: column;
        gap: 2.5rem;
    }

    .agency-item {
        background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-background) 100%);
        border: 1px solid var(--color-border);
        border-radius: 1rem;
        padding: 2rem;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    }

    .agency-item:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        border-color: var(--color-primary);
    }

    .agency-number {
        background: linear-gradient(135deg, var(--color-primary), var(--color-purple-mid));
        color: var(--color-white);
        width: 3rem;
        height: 3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 800;
        font-size: 1.5rem;
        flex-shrink: 0;
        line-height: 1;
        border-radius: 1rem;
        box-shadow: 0 4px 15px rgba(117, 107, 177, 0.3);
        margin-bottom: 1.5rem;
    }

    .agency-header h3 {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--color-text-primary);
        margin: 0 0 1rem 0;
        letter-spacing: -0.02em;
    }

    .opportunity-value {
        background: linear-gradient(135deg, var(--color-success), #047857);
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 0.75rem;
        display: inline-block;
        box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3);
    }

    .value {
        display: block;
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.25rem;
    }

    .label {
        font-size: 0.75rem;
        opacity: 0.9;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-weight: 600;
    }

    .agency-details {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        margin: 1.5rem 0;
    }

    .detail-item {
        background: rgba(255, 255, 255, 0.7);
        padding: 1.5rem;
        border-radius: 0.75rem;
        border: 1px solid var(--color-border-light);
    }

    .detail-item h4 {
        font-size: 0.875rem;
        font-weight: 700;
        color: var(--color-primary);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin: 0 0 0.75rem 0;
    }

    .detail-item p {
        color: var(--color-text-secondary);
        margin: 0;
        line-height: 1.6;
    }

    .approach-section {
        background: linear-gradient(135deg, var(--color-primary), var(--color-purple-mid));
        color: white;
        padding: 1.5rem;
        border-radius: 0.75rem;
        margin-top: 1.5rem;
        box-shadow: 0 4px 15px rgba(117, 107, 177, 0.3);
    }

    .approach-section h4 {
        color: white;
        opacity: 0.9;
        margin-bottom: 0.75rem;
    }

    .approach-section p {
        color: white;
        margin: 0;
        line-height: 1.6;
    }

    /* Enhanced Tables */
    .data-table-container {
        border: 1px solid var(--color-border);
        border-radius: 0.75rem;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    }

    .data-table table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.875rem;
    }

    .data-table th {
        background: linear-gradient(135deg, var(--color-background), var(--color-surface-muted));
        padding: 1rem 1.25rem;
        text-align: left;
        font-weight: 700;
        color: var(--color-text-primary);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 0.75rem;
        border-bottom: 2px solid var(--color-border);
    }

    .data-table td {
        padding: 1rem 1.25rem;
        border-bottom: 1px solid var(--color-border-light);
        vertical-align: top;
        line-height: 1.5;
        color: var(--color-text-secondary);
    }
    
    .data-table tr:last-child td { border-bottom: none; }
    .data-table tr:nth-child(even) { background-color: rgba(242, 240, 247, 0.3); }
    .data-table tr:hover { background-color: rgba(117, 107, 177, 0.05); }

    .company-name {
        font-weight: 600;
        color: var(--color-text-primary);
        margin-bottom: 0.25rem;
        font-size: 0.95rem;
    }

    .company-note {
        font-size: 0.8rem;
        color: var(--color-text-muted);
    }

    .priority-badge {
        background: linear-gradient(135deg, var(--color-success), #047857);
        color: var(--color-white);
        padding: 0.2rem 0.5rem;
        font-size: 0.65rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-left: 0.5rem;
        border-radius: 9999px;
        box-shadow: 0 2px 8px rgba(5, 150, 105, 0.3);
    }

    /* Enhanced Action Buttons */
    .action-buttons {
        display: flex;
        gap: 1rem;
        margin-top: 2.5rem;
    }

    .btn-primary, .btn-secondary {
        flex: 1;
        padding: 1rem 2rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 0.875rem;
        border: 2px solid transparent;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
        border-radius: 0.75rem;
        position: relative;
        overflow: hidden;
    }

    .btn-primary {
        background: linear-gradient(135deg, var(--color-primary), var(--color-purple-mid));
        color: var(--color-white);
        box-shadow: 0 4px 15px rgba(117, 107, 177, 0.3);
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(117, 107, 177, 0.4);
    }

    .btn-secondary {
        background: var(--color-surface);
        color: var(--color-text-primary);
        border: 2px solid var(--color-border);
    }

    .btn-secondary:hover {
        background: var(--color-text-primary);
        color: var(--color-white);
        border-color: var(--color-text-primary);
        transform: translateY(-2px);
    }

    /* Enhanced Templates */
    .template-content {
        background: var(--color-background);
        color: var(--color-text-secondary);
        border: 1px solid var(--color-border);
        padding: 1.5rem;
        font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
        font-size: 0.875rem;
        line-height: 1.7;
        border-radius: 0.75rem;
        box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .quick-action-btn {
        background: linear-gradient(135deg, var(--color-surface), var(--color-background));
        border: 1px solid var(--color-border);
        padding: 0.5rem 1rem;
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--color-text-secondary);
        cursor: pointer;
        transition: all 0.2s;
        border-radius: 0.5rem;
    }

    .quick-action-btn:hover {
        background: linear-gradient(135deg, var(--color-primary), var(--color-purple-mid));
        color: var(--color-white);
        border-color: var(--color-primary);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(117, 107, 177, 0.3);
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .magazine-report { padding: 0.5rem; }
        .report-header, .content-section { padding: 1.5rem; margin-bottom: 1.5rem; }
        .title-section h1 { font-size: 2rem; }
        .content-section h2 { font-size: 1.75rem; }
        .agency-details { grid-template-columns: 1fr; }
        .action-buttons { flex-direction: column; }
        .agency-item { padding: 1.5rem; }
        .agency-number { width: 2.5rem; height: 2.5rem; font-size: 1.25rem; }
    }
</style>
</head>
<body class="bg-gray-50 text-gray-900">
   <div class="max-w-screen-lg mx-auto px-4 sm:px-6 lg:px-8 pt-4 pb-20">
       <header class="text-center mb-4">
           <img src="/images/asklite.png" alt="AskArti" class="h-16 w-auto md:h-20 lg:h-24 mx-auto">
           <p class="mt-2 text-lg font-semibold text-gray-700">Federal Sales Prospecting</p>
       </header>

       <main class="prospect-card mb-3">
           <div class="mb-4">
               <textarea 
                   id="situation-input" 
                   rows="3" 
                   class="w-full p-4 text-base resize-none placeholder-gray-500"
                   placeholder="Need to prospect cybersecurity solutions into DOD. Looking for Tier 1 SIs who can get me in."
                   maxlength="500"></textarea>
               <div class="char-counter">
                   <span id="char-count">0</span> / 500
               </div>
           </div>

           <div class="flex flex-wrap gap-2 justify-center mb-4">
               <button class="quick-prompt" data-text="Need to prospect cloud migration services into civilian agencies. Who are the top SIs and what agencies are buying?">Cloud Migration</button>
               <button class="quick-prompt" data-text="Looking for federal cybersecurity opportunities. Which agencies have budget and who are the key SIs?">Cybersecurity Opps</button>
               <button class="quick-prompt" data-text="AI/ML solutions for federal agencies. Need warm intro paths and current opportunities.">AI/ML Federal</button>
               <button class="quick-prompt" data-text="Small business set-aside opportunities in data analytics and which agencies to target.">SB Set-Asides</button>
               <button class="quick-prompt" data-text="ISV partnerships for federal sales. Which SaaS companies need channel partners?">ISV Partnerships</button>
           </div>

           <div class="text-center">
               <button id="prospect-btn">
                   <span id="btn-text">Get Intelligence Report</span>
                   <div id="loader" class="loader hidden"></div>
               </button>
           </div>
       </main>

       <div id="loading-container" class="text-center py-4 hidden">
           <p id="loading-message" class="text-gray-600 font-medium"></p>
           <div class="mt-2">
               <span class="text-xs text-gray-500">💡 <span id="loading-tip"></span></span>
           </div>
       </div>

       <div id="error-container" class="bg-red-50 border border-red-200 rounded-lg p-6 text-center mb-4 hidden">
           <p class="text-red-700 font-medium mb-2">Research hit a snag</p>
           <p class="text-red-600 text-sm" id="error-details">Please try again</p>
           <button id="retry-btn" class="mt-3 bg-red-100 hover:bg-red-200 text-red-700 font-medium py-2 px-4 rounded-lg text-sm">Try Again</button>
       </div>

       <div id="results-container"></div>

       <footer class="text-center mt-12 space-y-4 pb-20">
           <div class="flex justify-center gap-6 text-sm">
               <button id="about-btn" class="text-purple-600 hover:text-purple-800 font-medium">About</button>
               <a href="mailto:mark@subhoo.com" class="text-purple-600 hover:text-purple-800 font-medium">Contact</a>
           </div>
           <p class="text-xs text-gray-400">© 2025 AskArti. Federal Prospecting Intelligence</p>
       </footer>
   </div>

<script>
const CONFIG = {
   API_ENDPOINT: 'https://vd823jgh0a.execute-api.us-east-1.amazonaws.com/prod/AskArtiAPI',
   LOADING_MESSAGES: [
       "Analyzing federal market dynamics...", 
       "Mapping systems integrator ecosystem...", 
       "Gathering competitive intelligence...", 
       "Identifying key decision makers...", 
       "Compiling opportunity pipeline..."
   ],
   LOADING_TIPS: [
       "Mention your solution type (cloud, cyber, AI) for targeted results",
       "Include company size for better partner recommendations", 
       "Specify target agencies (DOD, VA, DHS) for focused intel",
       "Add your current contract vehicles for opportunity matching",
       "Be specific about your federal sales challenges"
   ]
};

class ProspectingTool {
   constructor() {
       this.elements = {
           situationInput: document.getElementById('situation-input'),
           prospectBtn: document.getElementById('prospect-btn'),
           btnText: document.getElementById('btn-text'),
           loader: document.getElementById('loader'),
           loadingContainer: document.getElementById('loading-container'),
           loadingMessage: document.getElementById('loading-message'),
           loadingTip: document.getElementById('loading-tip'),
           errorContainer: document.getElementById('error-container'),
           errorDetails: document.getElementById('error-details'),
           retryBtn: document.getElementById('retry-btn'),
           resultsContainer: document.getElementById('results-container'),
           aboutBtn: document.getElementById('about-btn'),
           quickPrompts: document.querySelectorAll('.quick-prompt'),
           charCount: document.getElementById('char-count')
       };
       
       this.state = { 
           pendingRequest: false, 
           lastQuery: '', 
           loadingInterval: null,
           tipInterval: null,
           currentReport: null
       };
       
       this.init();
   }

   init() {
       this.setupEventListeners();
       this.elements.situationInput.focus();
   }

   setupEventListeners() {
       this.elements.quickPrompts.forEach(btn => {
           btn.addEventListener('click', (e) => {
               this.elements.situationInput.value = e.currentTarget.dataset.text;
               this.updateCharCount();
               this.getIntelligence();
           });
       });

       this.elements.prospectBtn.addEventListener('click', () => this.getIntelligence());
       this.elements.situationInput.addEventListener('keydown', (e) => {
           if (e.key === 'Enter' && !e.shiftKey) {
               e.preventDefault();
               this.getIntelligence();
           }
       });

       this.elements.situationInput.addEventListener('input', () => this.updateCharCount());

       this.elements.retryBtn.addEventListener('click', () => {
           this.elements.errorContainer.classList.add('hidden');
           if (this.state.lastQuery) {
               this.elements.situationInput.value = this.state.lastQuery;
               this.getIntelligence();
           }
       });
   }

   updateCharCount() {
       const count = this.elements.situationInput.value.length;
       this.elements.charCount.textContent = count;
       this.elements.charCount.parentElement.classList.toggle('warning', count > 400);
   }

   async getIntelligence() {
       const situation = this.elements.situationInput.value.trim();
       
       if (!situation) {
           this.showError("Tell me what you're trying to prospect 👆");
           return;
       }
       
       if (this.state.pendingRequest) return;
       
       this.state.lastQuery = situation;
       this.state.pendingRequest = true;
       
       this.elements.resultsContainer.innerHTML = '';
       this.setLoading(true);
       
       try {
           const data = await this.makeRequest(situation);
           this.state.currentReport = { query: situation, data, timestamp: new Date() };
           this.displayIntelligence(data);
       } catch (error) {
           this.showError(error.message || "Research failed. Please try again.");
       } finally {
           this.state.pendingRequest = false;
           this.setLoading(false);
       }
   }

   async makeRequest(situation) {
       const response = await fetch(CONFIG.API_ENDPOINT, {
           method: 'POST',
           headers: { 'Content-Type': 'application/json' },
           body: JSON.stringify({ situation })
       });
       
       if (!response.ok) throw new Error(`Server error (${response.status})`);
       
       const data = await response.json();
       if (data.error) throw new Error(data.message || data.error);
       
       return data;
   }

   displayIntelligence(data) {
       const { market_intelligence, ecosystem_mapping, tactical_execution, insider_intel, success_metrics } = data;
       
       const html = `
       <div class="magazine-report fade-in">
           <header class="report-header">
               <div class="header-content">
                   <div class="title-section">
                       <h1>Federal Sales Intelligence</h1>
                       <p class="subtitle">Prospecting Research Report</p>
                   </div>
                   <div class="meta-section">
                       <div class="report-date">${new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</div>
                       <div class="confidential-badge">AskArti Intel</div>
                   </div>
               </div>
               
               <div class="executive-summary">
                   <h2>Market Overview</h2>
                   <div class="summary-content">
                       ${marked.parse(market_intelligence.opportunity_assessment || 'Market analysis pending...')}
                   </div>
               </div>
           </header>

           ${market_intelligence.key_agencies?.length ? `
           <section class="content-section">
               <div class="section-header">
                   <h2>Priority Agencies</h2>
                   <span class="section-count">${market_intelligence.key_agencies.length} Hot Targets</span>
               </div>
               
               <div class="agencies-list">
                   ${market_intelligence.key_agencies.map((agency, index) => `
                       <article class="agency-item">
                           <div class="agency-number">${String(index + 1).padStart(2, '0')}</div>
                           <div class="agency-content">
                               <div class="agency-header">
                                   <h3>${agency.agency}</h3>
                                   <div class="opportunity-value">
                                       <span class="label">Market Opportunity</span>
                                       <span class="value">${agency.opportunity_size}</span>
                                   </div>
                               </div>
                               
                               <div class="agency-details">
                                   <div class="detail-item">
                                       <h4>Current Initiatives</h4>
                                       <p>${agency.current_initiatives}</p>
                                   </div>
                                   <div class="detail-item">
                                       <h4>Key Decision Makers</h4>
                                       <p>${agency.decision_makers}</p>
                                   </div>
                               </div>
                               
                               <div class="approach-section">
                                   <h4>Recommended Approach</h4>
                                   <p>${agency.best_approach}</p>
                               </div>
                           </div>
                       </article>
                   `).join('')}
               </div>
           </section>` : ''}

           <section class="content-section">
               <h2>Partner Ecosystem</h2>
               
               ${ecosystem_mapping.tier_1_sis?.length ? `
               <div class="subsection">
                   <h3>Tier 1 Systems Integrators</h3>
                   <div class="data-table-container">
                       <table class="data-table">
                           <thead>
                               <tr>
                                   <th>Company</th>
                                   <th>Federal Focus</th>
                                   <th>Partnership Opportunity</th>
                                   <th>Contact Strategy</th>
                               </tr>
                           </thead>
                           <tbody>
                               ${ecosystem_mapping.tier_1_sis.map((si, index) => `
                                   <tr>
                                       <td>
                                           <div class="company-name">
                                               ${si.company}
                                               ${index === 0 ? '<span class="priority-badge">TOP PICK</span>' : ''}
                                           </div>
                                           <div class="company-note">${si.current_priorities}</div>
                                       </td>
                                       <td>${si.federal_focus}</td>
                                       <td>${si.partnership_angle}</td>
                                       <td>${si.key_contacts}</td>
                                   </tr>
                               `).join('')}
                           </tbody>
                       </table>
                   </div>
               </div>` : ''}
           </section>

           <section class="content-section">
               <h2>Tactical Execution</h2>
               
               ${tactical_execution.immediate_actions?.length ? `
               <div class="subsection">
                   <h3>Immediate Actions</h3>
                   <div class="action-list">
                       ${tactical_execution.immediate_actions.map((action, i) => `
                           <div class="action-item">
                               <span class="action-number">${String(i + 1).padStart(2, '0')}</span>
                               <p>${action}</p>
                           </div>
                       `).join('')}
                   </div>
               </div>` : ''}

               ${tactical_execution.message_frameworks ? `
               <div class="subsection">
                   <h3>Email Templates</h3>
                   ${tactical_execution.message_frameworks.agency_outreach ? `
                   <div class="template-block">
                       <h4>Agency Outreach</h4>
                       <pre class="template-content">${tactical_execution.message_frameworks.agency_outreach}</pre>
                       <div class="quick-actions">
                           <button class="quick-action-btn" onclick="app.copyTemplate('agency')">Copy Template</button>
                       </div>
                   </div>` : ''}
                   
                   ${tactical_execution.message_frameworks.partner_outreach ? `
                   <div class="template-block">
                       <h4>Partner Outreach</h4>
                       <pre class="template-content">${tactical_execution.message_frameworks.partner_outreach}</pre>
                       <div class="quick-actions">
                           <button class="quick-action-btn" onclick="app.copyTemplate('partner')">Copy Template</button>
                       </div>
                   </div>` : ''}
               </div>` : ''}
           </section>

           ${insider_intel.hot_opportunities?.length ? `
           <section class="content-section">
               <h2>Hot Opportunities</h2>
               <div class="intel-list">
                   ${insider_intel.hot_opportunities.map(opp => `
                       <div class="intel-item">
                           <span class="bullet"></span>
                           <p>${opp}</p>
                       </div>
                   `).join('')}
               </div>
           </section>` : ''}

           <section class="content-section">
               <h2>Competitive Landscape</h2>
               <div class="prose-content">
                   ${marked.parse(market_intelligence.competitive_landscape || 'Competitive analysis pending...')}
               </div>
           </section>

           <div class="action-buttons">
               <button onclick="app.exportReport()" class="btn-primary">Export Report</button>
               <button onclick="app.startOver()" class="btn-secondary">New Query</button>
           </div>
       </div>`;
       
       this.elements.resultsContainer.innerHTML = html;
       this.elements.resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
   }

   copyTemplate(type) {
       const templates = this.state.currentReport?.data?.tactical_execution?.message_frameworks;
       const template = type === 'agency' ? templates?.agency_outreach : templates?.partner_outreach;
       
       if (!template) return;

       navigator.clipboard.writeText(template)
           .then(() => {
               const btn = event.target;
               const originalText = btn.textContent;
               btn.textContent = 'Copied!';
               setTimeout(() => btn.textContent = originalText, 2000);
           })
           .catch(() => alert('Copy failed. Please select and copy manually.'));
   }

   exportReport() {
       const content = this.elements.resultsContainer.innerText;
       
       if (!content || content.trim() === '') {
           alert('No report to export');
           return;
       }
       
       const blob = new Blob([content], { type: 'text/plain' });
       const url = URL.createObjectURL(blob);
       const a = document.createElement('a');
       a.href = url;
       a.download = `AskArti_Report_${new Date().toISOString().split('T')[0]}.txt`;
       document.body.appendChild(a);
       a.click();
       document.body.removeChild(a);
       URL.revokeObjectURL(url);

       const btn = this.elements.resultsContainer.querySelector('.btn-primary');
       if (btn) {
           const originalText = btn.textContent;
           btn.textContent = 'Exported!';
           setTimeout(() => btn.textContent = originalText, 2000);
       }
   }

   setLoading(loading) {
       this.elements.btnText.style.display = loading ? 'none' : 'inline';
       this.elements.loader.style.display = loading ? 'block' : 'none';
       this.elements.prospectBtn.disabled = loading;
       this.elements.errorContainer.classList.add('hidden');
       
       if (loading) {
           this.showLoadingMessages();
       } else {
           this.hideLoadingMessages();
       }
   }

   showLoadingMessages() {
       this.elements.loadingContainer.classList.remove('hidden');
       this.elements.loadingMessage.textContent = CONFIG.LOADING_MESSAGES[0];
       this.elements.loadingTip.textContent = CONFIG.LOADING_TIPS[Math.floor(Math.random() * CONFIG.LOADING_TIPS.length)];
       
       let messageIndex = 0;
       this.state.loadingInterval = setInterval(() => {
           messageIndex = (messageIndex + 1) % CONFIG.LOADING_MESSAGES.length;
           this.elements.loadingMessage.textContent = CONFIG.LOADING_MESSAGES[messageIndex];
       }, 2500);

       this.state.tipInterval = setInterval(() => {
           this.elements.loadingTip.textContent = CONFIG.LOADING_TIPS[Math.floor(Math.random() * CONFIG.LOADING_TIPS.length)];
       }, 5000);
   }

   hideLoadingMessages() {
       clearInterval(this.state.loadingInterval);
       clearInterval(this.state.tipInterval);
       this.elements.loadingContainer.classList.add('hidden');
   }

   showError(message) {
       this.hideLoadingMessages();
       this.elements.errorContainer.classList.remove('hidden');
       this.elements.errorDetails.textContent = message;
       this.setLoading(false);
   }

   startOver() {
       this.elements.situationInput.value = '';
       this.elements.situationInput.focus();
       this.elements.resultsContainer.innerHTML = '';
       this.hideLoadingMessages();
       this.elements.errorContainer.classList.add('hidden');
       this.state.pendingRequest = false;
       this.updateCharCount();
       window.scrollTo({ top: 0, behavior: 'smooth' });
   }
}

const app = new ProspectingTool();
</script>
</body>
</html>